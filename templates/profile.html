{% extends "base.html" %}
{% block content %}


    <div class="row">
        <div class="col s12 m8 offset-m2">
            <div class="card-panel">
                <h3 class="center-align">
                    {{ username }}
                </h3>
            </div>
        </div>
    </div>
    <div class="row">
        {% for character in characters %}
            {% if session["user"] in character.player_name %}
                <div class="col s12 l4">
                    <div class="card-panel orange darken-2 white-text z-depth-2">
                        <h6 class="card-header">{{ character.character_name }}</h6>
                        <p>
                            {{ character.character_description }}
                        </p>
                        <p>
                            Created By {{ character.player_name }}
                        </p>
                        <ul class="collapsible black-text">
                            <li>
                                <div class="collapsible-header orange accent-2"><i class="right fas fa-caret-down"></i>More Details</div>
                                <div class="collapsible-body orange accent-2">
                                    <div class="row">
                                        <div class="col s12">
                                            <p><strong>Class:</strong> {{ character.class_name }}</p>     
                                        </div>
                                        <div class="col">
                                            <p><strong>Race:</strong> {{ character.race_name }}</p>
                                        </div>
                                        <div class="col s12">
                                            <p><strong>Background:</strong> {{ character.background_name }}</p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col s4">
                                            <div class="box box-radius white">
                                                <div>
                                                    <h6>Str</h6>
                                                    {{ character.strength }}
                                                </div>
                                                <div class="bubble">
                                                    {% if character.strength_modifier > 0 %}
                                                        +{{ character.strength_modifier }}
                                                    {% else %}
                                                        {{ character.strength_modifier }}
                                                    {% endif %}
                                                </div>
                                            </div>
                                            <div class="box box-radius white">
                                                <div>
                                                    <h6>Int</h6>
                                                    {{ character.intelligence }}
                                                </div>
                                                <div class="bubble">
                                                    {% if character.intelligence_modifier > 0 %}
                                                        +{{ character.intelligence_modifier }}
                                                    {% else %}
                                                        {{ character.intelligence_modifier }}
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col s4">
                                            <div class="box box-radius white">
                                                <div>
                                                    <h6>Dex</h6>
                                                    {{ character.dexterity }}
                                                </div>
                                                <div class="bubble">
                                                    {% if character.dexterity_modifier > 0 %}
                                                        +{{ character.dexterity_modifier }}
                                                    {% else %}
                                                        {{ character.dexterity_modifier }}
                                                    {% endif %}
                                                </div>
                                            </div>
                                            <div class="box box-radius white">
                                                <div >
                                                    <h6>Wis</h6>
                                                    {{ character.wisdom }}
                                                </div>
                                                <div class="bubble">
                                                    {% if character.wisdom_modifier > 0 %}
                                                        +{{ character.wisdom_modifier }}
                                                    {% else %}
                                                        {{ character.wisdom_modifier }}
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col s4">
                                            <div class="box box-radius white">
                                                <div>
                                                    <h6>Con</h6>
                                                    {{ character.constitution }}
                                                </div>
                                                <div class="bubble">
                                                    {% if character.constitution_modifier > 0 %}
                                                        +{{ character.constitution_modifier }}
                                                    {% else %}
                                                        {{ character.constitution_modifier }}
                                                    {% endif %}
                                                </div>
                                            </div>
                                            <div class="box box-radius white">
                                                <div>
                                                    <h6>Cha</h6>
                                                    {{ character.charisma }}
                                                </div>
                                                <div class="bubble">
                                                    {% if character.charisma_modifier > 0 %}
                                                        +{{ character.charisma_modifier }}
                                                    {% else %}
                                                        {{ character.charisma_modifier }}
                                                    {% endif %}
                                                </div>
                                            </div>                                            
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col s6 box">
                                            <h6>Armor Class</h6>
                                            <p>{{ character.armor_class }}</p>
                                        </div>
                                        <div class="col s6 box">
                                            <h6>Max HP</h6>
                                            <p>{{ character.hit_point_maximum }}</p>
                                        </div>
                                    </div>
                                    <a class="red accent-4 btn modal-trigger" href="#delete_character">Delete</a>
                                    <a href="{{ url_for('edit_character', character_id=character._id) }}" class="btn red accent-4">Edit</a>
                                    <div id="delete_character" class="modal">
                                        <div class="modal-content center">
                                            <h4>Vanquish this charater into the Void</h4>
                                            <p>Are you sure you want to delete this character?</p>
                                        </div>
                                        <div class="modal-footer center">
                                            <a href="{{ url_for('delete_character', character_id=character._id) }}" class="red accent-4 btn-small">Kick them off the edge!</a>
                                            <a href="" class="red accent-4 btn-small">No, let them live</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>
{% endblock %}
            